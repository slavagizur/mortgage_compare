<div class="mortgageVersion">
    <div id="versionTabs">
        <ul>
            <!-- ko foreach: versions -->
            <li data-bind="attr: { 'aria-controls': getVersionId }"><a
                    data-bind="text: name, attr: {href: getVersionId}"></a></li>
            <!-- /ko -->
            <li><a data-bind="click: addNewVersion" class="addNewTab" title="Добавить новую версию">+</a>
            </li>
        </ul>
        <!-- ko foreach: versions -->
        <div data-bind="attr: {id: getVersionTabId}">
            <div class="mortgageParams">
                <div class="mortgageInfo">
                    <span>Наименование</span><span><input
                        data-bind="value: name"></span><span>Количество месяцев</span>
                    <span><input data-bind="value: monthNumber"></span>
                </div>
                <div class="mortgageInfo">
                    <span>Первоначальный взнос</span><span><input data-bind="value: initAmount"></span>
                    <span>Сумма кредита</span><span><input data-bind="value: desiredAmount"></span>
                </div>
            </div>
            <table class="mortgageTable" cellspacing="0">
                <thead>
                <tr>
                    <th rowspan="2">Номер месяца</th>
                    <th colspan="4">Сумма</th>
                </tr>
                <tr>
                    <th>Остаток</th>
                    <th>Проценты</th>
                    <th>Месячный платеж (план.)</th>
                    <th>Заплатить в месяце</th>
                </tr>
                </thead>
                <tbody>
                <!-- ko foreach: monthsData -->
                <tr>
                    <td class="formatNumber" data-bind="text: formattedMonth"></td>
                    <td class="formatNumber" data-bind="text: formattedAmount"></td>
                    <td class="formatNumber" data-bind="text: formattedPercentAmount"></td>
                    <td class="formatNumber" data-bind="text: formattedMonthAmount"></td>
                    <td><input data-bind="value: toPay"></td>
                </tr>
                <!-- /ko -->
                <tr>
                    <td><b>Total</b></td>
                    <td>&nbsp;</td>
                    <td class="formatNumber" data-bind="text: totalPercentAmount"></td>
                    <td>&nbsp;</td>
                    <td class="formatNumber" data-bind="text: totalAmount"></td>
                </tr>
                </tbody>
            </table>
            <button data-bind="click: addData, enable: (monthsData().length < monthNumber)">Добавить новый месяц
            </button>
            <button data-bind="click: calcPercents">Рассчитать проценты</button>
        </div>
        <!-- /ko -->
    </div>
</div>